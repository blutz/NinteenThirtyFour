{"version":3,"file":"hashtabs/view.js","mappings":"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","sources":["webpack://unicamp-blocks/./src/hashtabs/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\nconst SELECTED_TAB_CLASSNAME = 'wp-block-unicamp-unicamp-blocks-hashtabs__tabs__tab--selected'\n\n// Tabs can't be added/removed dynamically, so doing this once per pageload is fine\nfunction setupBlock(container) {\n  // Setup\n  const slugs = []\n  container.querySelectorAll('.wp-block-unicamp-unicamp-blocks-hashtabs__tabs__tab')\n    .forEach(el => slugs.push(el.dataset.slug ? el.dataset.slug.toLowerCase().trim() : ''))\n  if(!slugs.length) { return }\n  const tabContainers = container.querySelectorAll('.wp-block-unicamp-unicamp-blocks-hashtab')\n  const tabs = container.querySelectorAll('.wp-block-unicamp-unicamp-blocks-hashtabs__tabs__tab')\n\n  // Click events on tabs\n  tabs.forEach(tab => tab.addEventListener('click', () => {\n    if(tab.dataset.slug) { window.location = `#${tab.dataset.slug}` }\n  }))\n\n  function selectTab(tabId) {\n    tabs.forEach(tab => tab.classList.remove(SELECTED_TAB_CLASSNAME))\n    tabs[tabId].classList.add(SELECTED_TAB_CLASSNAME)\n    tabContainers.forEach(el => el.style.display = 'none')\n    tabContainers[tabId].style.display = 'block'\n    history.replaceState({}, '', `#${slugs[tabId]}`)\n  }\n\n  // Returns tab ID if we have a slug that matches the input hash, otherwise -1\n  function getTabIdByHash(hashInput='') {\n    let hash = (hashInput[0] === '#') ? hashInput.substring(1).toLowerCase() : hashInput\n    if(!hash.trim().length) { return -1 }\n    return slugs.indexOf(hash)\n  }\n\n  const startingTab = getTabIdByHash(window.location.hash)\n  if(startingTab >= 0) { selectTab(startingTab) } else { selectTab(0) }\n\n  window.addEventListener(\"hashchange\", () => {\n    const newTab = getTabIdByHash(window.location.hash)\n    if(newTab >= 0) { selectTab(newTab) }\n  });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  document.querySelectorAll('.wp-block-unicamp-unicamp-blocks-hashtabs').forEach(setupBlock)\n})\n"],"names":["SELECTED_TAB_CLASSNAME","setupBlock","container","slugs","querySelectorAll","forEach","el","push","dataset","slug","toLowerCase","trim","length","tabContainers","tabs","tab","addEventListener","window","location","selectTab","tabId","classList","remove","add","style","display","history","replaceState","getTabIdByHash","hashInput","hash","substring","indexOf","startingTab","newTab","document"],"sourceRoot":""}